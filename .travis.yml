language: python

sudo: false
dist: trusty

python:
  - "3.6"

cache:
  - bundler
  - apt
  - pip
    
install:
  - "sudo -H apt-get install mecab libmecab-dev mecab-ipadic-utf8 -y"
  - "pip install -r requirements.txt"
  - "pip install pytest-cov coveralls"

before_script:
  - export PYTHONPATH=$PYTHONPATH:$(pwd)/app/spec2test

script:
  - pytest --cov-config ./.coveragerc --cov=./app/spec2test --Work ./app/test ./app/test

after_success:
  - coveralls
